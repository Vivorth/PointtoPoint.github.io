/*!
 * 
 *             cnn-verticals-runner (v1.253.0)
 *             Authored by Alexandros Konidaris, Jai Bryan, Matt Crutchfield, Nav Garcha, Nigel Elliott, Zoltan Lantos for CNN - Thu, 13 Feb 2020 15:02:58 GMT
 *         
 */
(window.webpackJsonpCVR=window.webpackJsonpCVR||[]).push([[20],{1209:function(e,t,n){(t=e.exports=n(31)(!1)).push([e.i,".VideoPlayer__component {\n    overflow: hidden;\n    position: relative;\n    width: 100%;\n}\n\n.VideoPlayer__videoPlayerContainer {\n    overflow: hidden;\n    padding-top: 56.25%;\n    position: relative;\n}\n\n.VideoPlayer__videoPlayer {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n",""]),t.locals={component:"VideoPlayer__component",videoPlayerContainer:"VideoPlayer__videoPlayerContainer",videoPlayer:"VideoPlayer__videoPlayer"}},1210:function(e,t,n){var o=n(1209),i=n(30);"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=o.locals||{},e.exports._getContent=function(){return o},e.exports._getCss=function(){return o.toString()},e.exports._insertCss=function(e){return i(o,e)}},1475:function(e,t,n){"use strict";n.r(t),n.d(t,"VideoPlayer",function(){return k});var o=n(0),i=n(2),r=n.n(i),a=n(16),s=n.n(a),l=n(79),u=n(7),d=n.n(u),c=n(112),p=n(110),y=n(19),f=n(82),v=n(693),h=n(794),m=n(202),g=n(198),w=n(1210),b=n.n(w),C=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var s in r)void 0===n[s]&&(n[s]=r[s]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},V=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={oneTrustLoaded:!1,relatedVideos:e.relatedVideos||[],gdprConsentGroups:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),V(t,[{key:"componentDidMount",value:function(){var e=this;Object(f.c)("OneTrustLoaded").then(function(){e.setState({oneTrustLoaded:!0,gdprConsentGroups:Object(m.g)()},function(){e.initialise()})})}},{key:"componentWillReceiveProps",value:function(e){e.relatedVideos!==this.props.relatedVideos&&this.setState({relatedVideos:e.relatedVideos})}},{key:"shouldComponentUpdate",value:function(e,t){return e.freewheelId!==this.props.freewheelId||e.videoId!==this.props.videoId||t.oneTrustLoaded!==this.state.oneTrustLoaded}},{key:"componentDidUpdate",value:function(){this.initialisePlayer()}},{key:"componentWillUnmount",value:function(){this.isLoaded&&this.player&&this.player.destroy()}},{key:"initialise",value:function(){this.initialisePlayer(),this.props.relatedVideos&&0!==this.props.relatedVideos.length||!this.props.onLoadRelatedVideo||this.handleLoadRelatedVideos()}},{key:"handleLoadRelatedVideos",value:function(){var e=this;this.props.onLoadRelatedVideo().then(function(t){e.setState({relatedVideos:t})})}},{key:"initialisePlayer",value:function(){var e=this;Object(f.c)("FAVE.player").then(function(){setTimeout(function(){var t=e.props,n=t.videoId,o=t.freewheelId,i=t.containerId,r=t.autoplay,a=t.isVr,s=t.autoplayRelatedVideos,l=t.playerRef,u=t.onContentComplete,d=t.onContentBegin,p=t.branding,f=t.scrollToTopWhenExitFullScreen,g=e.state.gdprConsentGroups,w="CNN-Web-"+y.e.charAt(0).toUpperCase()+y.e.slice(1);window.FAVE.settings.freewheel.keyValuePairs=P({},Object(c.e)(),{guID:window.turner_getGuid,krux_user:window.krux_getUser,krux:window.krux_getFWKeyValues,transactionID:window.turner_getTransactionId,proximicData:e.proximicData,cepTopics:e.cepTopics,spec:p}),Object(v.e)(window.FAVE,window),Object(h.b)(window.FAVE),window.FAVE.player({configs:P({video:n,adsection:o,markupId:i,autostart:r,conviva:{enabled:y.g,custom:{applicationName:w}},userTracking:{enabled:!0,features:{ads:g[m.a],analytics:g[m.b],performance:g[m.b],personalization:g[m.d],social:g[m.e]}},player:{autoplay:{muted:{overlay:!1}}}},r&&{autoplay:{muted:{enabled:!0}}},a&&{isVr:!0,player:{maxBitrate:"Infinity"},theoplayer:{initialRendition:"high"}}),callbacks:P({onPlayerReady:function(){l(e.player)},onContentComplete:function(){var t={},n=null;s&&(n=(t=e.nextRelatedVideo||{}).videoId||e.props.videoId,e.player.play(n,{autostart:!0})),u(t)},onContentBegin:d},f&&{onTrackingFullscreen:function(e,t,n){n.fullscreen||window.scrollTo(0,0)}})})},100)})}},{key:"playVideo",value:function(e){this.player.play(e)}},{key:"render",value:function(){var e=this.props,t=e.environment,n=e.className,o=this.state.gdprConsentGroups,i=this.context.isEdition;return C("div",{className:d()(b.a.component,n)},void 0,this.state.oneTrustLoaded?[C(l.a,{script:[{src:g.d.js,defer:!0},o[m.b]?{src:g.h.js,defer:!0}:{},o[m.c]?{src:g.c.js,defer:!0}:{},{innerHTML:"\n                                window.FAVE = {\n                                    settings: {\n                                        freewheel: {\n                                            serverUrl: '//bea4.cnn.com/ad/g/1?'\n                                        },\n                                        server: {\n                                            edition: '"+Object(p.b)(i)+"',\n                                            environment: '"+t+"'\n                                        },\n                                        aspen: {\n                                            adTypeDefault: 'preroll',\n                                            contentModeDefault: 'vod',\n                                            context: 'default',\n                                            customer: 'theo',\n                                            platformName: 'js',\n                                            site: 'cnn'\n                                        },\n                                        theoplayer: {\n                                            allowNativeFullscreen:true\n                                        }\n                                    }\n                                }"}]},"0"),C("div",{className:b.a.videoPlayerContainer},"1",C("div",{className:b.a.videoPlayer},void 0,C("div",{id:this.props.containerId})))]:null)}},{key:"isLoaded",get:function(){return!(!window.FAVE||!window.FAVE.player)}},{key:"nextRelatedVideo",get:function(){var e=this.state.relatedVideos||[],t=e.shift();return this.setState({relatedVideos:e}),t}},{key:"player",get:function(){var e=this.props.containerId;return this.isLoaded?window.FAVE.player.getInstance(e):null}},{key:"cepTopics",get:function(){try{var e=Object(p.a)(this.context.isEdition).toUpperCase();return window[e].getCepTopics()}catch(e){return null}}},{key:"proximicData",get:function(){try{return window.proximicData.reduce(function(e,t){return P(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,"pconid"),e)},{})}catch(e){return null}}}]),t}();k.defaultProps={autoplayRelatedVideos:!0,playerRef:function(){},onContentComplete:function(){},onContentBegin:function(){},branding:""},k.contextTypes={isEdition:r.a.bool,containerQueryWidth:r.a.number},t.default=s()(b.a)(k)},793:function(e,t,n){"use strict";n.r(t),t.default={}},794:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});n(793).default;var o=function(){return"undefined"!=typeof window&&window.optimizely&&window.optimizely.get&&window.optimizely.push},i=function(e){o()&&window.optimizely.push({type:"event",eventName:e})},r=function(e){var t=/\/videos\/.+/.test(window.location.pathname),n=function(e){return null!=e};e.components=e.components||{},e.components.Optimizely=function(e,n){this.configs=e,this.videoJSON=n,this.isSeventyFive=!1,this.isHalf=!1,this.isTwentyFive=!1,this.triggerEvent=function(e){this.optimizelyEvent(t?e+"VidPlayer":e)},this.optimizelyEvent=function(e){window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:e})}},e.components.Optimizely.prototype.onAdEnd=function(){this.triggerEvent("onAdEnd")},e.components.Optimizely.prototype.onTrackingAdComplete=function(){this.triggerEvent("onTrackingAdComplete")},e.components.Optimizely.prototype.onAdPlay=function(){this.triggerEvent("onAdPlay")},e.components.Optimizely.prototype.onContentEnd=function(){this.triggerEvent("onContentEnd")},e.components.Optimizely.prototype.onContentPause=function(){n(arguments)&&n(arguments[3])&&this.triggerEvent(arguments[3]?"onContentPauseTrue":"onContentPauseFalse")},e.components.Optimizely.prototype.onContentPlay=function(){this.triggerEvent("onContentPlay")},e.components.Optimizely.prototype.onTrackingFullscreen=function(){n(arguments)&&n(arguments[2].fullscreen)&&this.triggerEvent(arguments[2].fullscreen?"onTrackingFullscreenTrue":"onTrackingFullscreenFalse")},e.components.Optimizely.prototype.onTrackingMuted=function(e,t,o,i){n(i)&&n(i.muted)&&n(i.adPlaying)&&n(i.muteOverlayClicked)&&(i.muteOverlayClicked?this.triggerEvent(i.adPlaying?"onAdOverlayUnmute":"onContentOverlayUnmute"):i.adPlaying?this.triggerEvent(i.muted?"onAdVolumeMuted":"onAdVolumeUnmuted"):this.triggerEvent(i.muted?"onContentVolumeMute":"onContentVolumeUnmute"))},e.components.Optimizely.prototype.onAdPause=function(){n(arguments)&&n(arguments[9])&&this.triggerEvent(arguments[9]?"onAdPauseTrue":"onAdPauseFalse")},e.components.Optimizely.prototype.onContentPlayhead=function(){if(n(arguments)&&n(arguments[3])&&n(arguments[4])){var e=arguments[3],t=arguments[4];e>.75*t&&!this.isSeventyFive?(this.isSeventyFive=!this.isSeventyFive,this.triggerEvent("onTrackingContentProgress75")):e>.5*t&&!this.isHalf?(this.isHalf=!this.isHalf,this.triggerEvent("onTrackingContentProgress50")):e>.25*t&&!this.isTwentyFive&&(this.isTwentyFive=!this.isTwentyFive,this.triggerEvent("onTrackingContentProgress25"))}}}}}]);